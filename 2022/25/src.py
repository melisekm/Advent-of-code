print(
    sum(
        (-2 if digit == '=' else -1 if digit == '-' else int(digit)) * (5 ** idx)
        for number in open('in.txt')
        for idx, digit in enumerate(reversed(number.strip()))
    ), '= 122-12==0-01=00-0=02'
)
# Result is: 28 115 957 264 952, see table to get the result manually.
# ╔════════════════════╦══════════════════════╦════════════════════╦══════════════════════╗
# ║       Decimal      ║         SNAFU        ║   Decimal lower 5  ║     SNAFU lower 5    ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║ 28 115 957 264 952 ║ 122-12==0-01=00-0=02 ║ 28 115 957 264 950 ║ 122-12==0-01=00-0=00 ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║  5 623 191 452 990 ║  122-12==0-01=00-0=0 ║  5 623 191 452 990 ║  122-12==0-01=00-0=0 ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║  1 124 638 290 598 ║  122-12==0-01=00-0=  ║  1 124 638 290 595 ║  122-12==0-01=00--0  ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║   224 927 658 119  ║   122-12==0-01=00--  ║   224 927 658 115  ║   122-12==0-01=00=0  ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║   44 985 531 623   ║   122-12==0-01=00=   ║   44 985 531 620   ║   122-12==0-01=0-0   ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║    8 997 106 324   ║    122-12==0-01=0-   ║    8 997 106 320   ║    122-12==0-01=-0   ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║    1 799 421 264   ║    122-12==0-01=-    ║    1 799 421 260   ║    122-12==0-0020    ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║     359 884 252    ║     122-12==0-002    ║     359 884 250    ║     122-12==0-000    ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║     71 976 850     ║     122-12==0-00     ║     71 976 850     ║     122-12==0-00     ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║     14 395 370     ║      122-12==0-0     ║     14 395 370     ║      122-12==0-0     ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║      2 879 074     ║      122-12==0-      ║      2 879 070     ║      122-12==-0      ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║       575 814      ║       122-12==-      ║       575810       ║       122-11220      ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║       115 162      ║       122-1122       ║       115160       ║       122-1120       ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║       23 032       ║        122-112       ║        23025       ║        122-100       ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║        4 606       ║        122-11        ║        4600        ║        122-10        ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║         921        ║         122-1        ║         920        ║         122-0        ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║         184        ║         122-         ║         180        ║         1210         ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║         36         ║          121         ║         35         ║          120         ║
# ╠════════════════════╬══════════════════════╬════════════════════╬══════════════════════╣
# ║          7         ║          12          ║          5         ║          10          ║
# ╚════════════════════╩══════════════════════╩════════════════════╩══════════════════════╝
